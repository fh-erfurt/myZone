-- MySQL Script generated by MySQL Workbench
-- Mon Dec 21 21:20:02 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema myZone
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema myZone
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `myZone` DEFAULT CHARACTER SET utf8 ;
USE `myZone` ;

-- -----------------------------------------------------
-- Table `myZone`.`addresses`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myZone`.`addresses` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `street` VARCHAR(45) NOT NULL,
  `number` VARCHAR(5) NOT NULL,
  `city` VARCHAR(50) NOT NULL,
  `zipCode` VARCHAR(5) NOT NULL,
  PRIMARY KEY (`id`));


-- -----------------------------------------------------
-- Table `myZone`.`customers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myZone`.`customers` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `firstName` VARCHAR(50) NOT NULL,
  `lastName` VARCHAR(50) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `phone` VARCHAR(20) NULL,
  `deliveryAddress` INT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_customers_addresses2`
    FOREIGN KEY (`deliveryAddress`)
    REFERENCES `myZone`.`addresses` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


-- -----------------------------------------------------
-- Table `myZone`.`userLogins`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myZone`.`userLogins` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `validated` TINYINT NOT NULL DEFAULT 0,
  `enabled` TINYINT NOT NULL DEFAULT 1,
  `username` VARCHAR(25) NOT NULL,
  `lastLogin` TIMESTAMP NULL,
  `passwordHash` VARCHAR(255) NOT NULL,
  `customer` INT NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_userLogins_customers`
    FOREIGN KEY (`customer`)
    REFERENCES `myZone`.`customers` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


-- -----------------------------------------------------
-- Table `myZone`.`orders`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myZone`.`orders` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `shipmentDate` TIMESTAMP NULL,
  `customer` INT NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_orders_customers1`
    FOREIGN KEY (`customer`)
    REFERENCES `myZone`.`customers` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


-- -----------------------------------------------------
-- Table `myZone`.`categories`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myZone`.`categories` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `name` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`id`));

    -- -----------------------------------------------------
-- Table `myZone`.`brands`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myZone`.`brands` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`));

    -- -----------------------------------------------------
-- Table `myZone`.`colors`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myZone`.`colors` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`));

    -- -----------------------------------------------------
-- Table `myZone`.`products`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myZone`.`products` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `name` VARCHAR(45) NOT NULL,
  `price` DECIMAL(5,2) NOT NULL,
  `category` INT NOT NULL,
  `brand` INT NOT NULL,
  `color` INT NOT NULL,
  `descriptionColor` VARCHAR(64) NULL DEFAULT NULL,
  `description` VARCHAR(1200) NULL DEFAULT NULL,
  PRIMARY KEY (`id`),
    CONSTRAINT `fk_products_categories1`
    FOREIGN KEY (`category`)
    REFERENCES `myZone`.`categories` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_products_brands1`
    FOREIGN KEY (`brand`)
    REFERENCES `myZone`.`brands` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_products_colors1`
    FOREIGN KEY (`color`)
    REFERENCES `myZone`.`colors` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


-- -----------------------------------------------------
-- Table `myZone`.`orderItems`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `myZone`.`orderItems` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `createdAt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `updatedAt` TIMESTAMP NULL DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `quantity` INT NOT NULL,
  `actualPrice` DECIMAL(8,2) NOT NULL,
  `order` INT NOT NULL,
  `product` INT NOT NULL,
  PRIMARY KEY (`id`),
  CONSTRAINT `fk_orderItems_orders1`
    FOREIGN KEY (`order`)
    REFERENCES `myZone`.`orders` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_orderItems_products1`
    FOREIGN KEY (`product`)
    REFERENCES `myZone`.`products` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;




/* test data */


INSERT INTO `myZone`.`addresses` (`id`, `street`, `number`, `city`, `zipCode`)
VALUES (1, 'Teststraße', 420, 'Örtchen', '12345');

INSERT INTO `myZone`.`customers` (`id`, `firstName`, `lastName`, `email`, `phone`, `deliveryAddress`)
VALUES (1, 'testFirstName', 'testLastName', 'test@email.de', '018054646', 1),
       (2, 'totallyRealFName', 'totallyRealLName', 'real@person.com', '010012345', NULL);

INSERT INTO `myZone`.`userLogins` (`id`, `validated`, `enabled`, `username`,  `passwordHash`, `customer`)
VALUES (1, 1, 1, 'testUser', '$2y$10$GzNBS1d96sZVhoE241Znf.Wzx9O4vBijFiU1NiPhr4SK3bzyFZNry', 1),
       (2, 1, 0, 'realUser', '$2y$10$GzNBS1d96sZVhoE241Znf.Wzx9O4vBijFiU1NiPhr4SK3bzyFZNry', 2);

INSERT INTO `myZone`.`categories` (`id`, `name`)
VALUES (1, 'shoes');

INSERT INTO `myZone`.`brands` (`id`, `name`)
VALUES (1, 'Reebok'),
       (2, 'Nike'),
       (3, 'Adidas'),
       (4, 'crocs');

INSERT INTO `myZone`.`colors` (`id`, `name`)
VALUES (1, 'white'),
       (2, 'red'),
       (3, 'black'),
       (4, 'green'),
       (5, 'blue'),
       (6, 'yellow');


INSERT INTO `myZone`.`products` (`id`, `name`, `price`, `category`, `brand`, `color`, `descriptionColor`, `description`)
VALUES (1, 'Continental 80', 79.99, 1, 3, 1, 'Core Black',
        'Mit dem Continental 80 bringt adidas uns die pure, unverfälschte Ästhetik des Tennissports der Achtziger Jahre zurück. Alles wird immer technischer, wilder und hektischer, aber dieses Design gibt sich einer Schlichtheit hin, die etwas Meditatives hat. Die Linien sind simpel und unaufgeregt, der Look so puristisch wie möglich. Spiel, Satz und Sieg adidas!'),
       (2, 'NMD R1', 89.99, 1, 3, 3, 'Core Black / Silver Mettalic / Solar Red',
        'adidas Originals ging vor nicht allzu langer Zeit mal wieder einen Schritt weiter Richtung Zukunft und präsentierte mit dem NMD Runner ein junges innovatives Design aus Herzogenaurach. Mit dem höchst atmungsaktiven, elastischen Mesh-Obermaterial und der ultrabequemen boost™-Sohle setzt der NMD Runner in Sachen Flexibilität, Gestaltung und Technologie Maßstäbe. Als fast schon revolutionär konnte man Anfang der 2010er die hauseigene boost™-Technologie bezeichnen, die dem Träger dieses adidas-Schuhs eine Energieeffizienz verschaffte, die ihresgleichen sucht - so wurde praktisch mit jedem Schritt das Akku neu aufgeladen, was die Ermüdungserscheinungen des Läufers auf ein Minimum reduzierte.'),
       (3, 'Supercourt', 99.99, 1, 3, 1, 'Footwear White',
        'Der Supercourt von adidas ist ein Design, das mit vielen Zitaten der Tennisschuhe aus den Achtziger Jahren punkten kann. Ein Schaft aus geschmeidigem Leder auf einer sehr schlicht gehaltenen Gummisohle, gefinisht mit spärlichen Logoakzenten, so machen Retro-Sneakers 2019 Freude.'),
       (4, 'Ultra Boost', 149.99, 1, 3, 1, 'Core Black',
        'Mit dem UltraBOOST hat adidas einen echten Sure Shot kreiert, bei dem sich Technologie, Material und Performance auf höchstem Niveau treffen. Es handelt sich dabei um eine dieser genialen Konstruktionen mit anschmiegsamem Primeknit als Obermaterial und der der ultrabequemen Boost™-Zwischensohle als Basis für einen dynamischen Antritt. Natürlich ist der an Socken angelehnte Schaft nahtlos konstruiert sowie höchst atmungsaktiv, und mit der Boost™-Technologie hat adidas eine kleine Revolution losgetreten, da diese dem Träger eine Energieeffizienz vermittelte, die ihresgleichen sucht - so wurde praktisch mit jedem Schritt das Akku neu aufgeladen, was die Ermüdungserscheinungen des Läufers auf ein Minimum reduzierte.'),
       (5, 'I-5923', 49.99, 1, 3, 6, 'Yellow-Night / Indigo-Gum 3',
        'Inspiriert von den adidas-Modellen der Siebziger Jahre steht der I-5923 Runner für einen schlichten Auftritt, allerdings hat dieser Sneaker einiges unter der Haube. Das ist in erster Linie die elitäre boost™-Mittelsohle, die nicht nur einen unvergleichlichen Komfort vermittelt, sondern sich auch noch positiv auf das Gesamtgewicht auswirkt. Mit der boost™-Technologie hat adidas übrigens eine kleine Revolution losgetreten, da diese dem Träger eine Energieeffizienz vermittelte, die ihresgleichen sucht - so wurde praktisch mit jedem Schritt das Akku neu aufgeladen, was die Ermüdungserscheinungen des Läufers auf ein Minimum reduzierte.'),
       (6, 'ZX /700 HD', 89.99, 1, 3, 4, 'Wild Pine / silver Metallic / Halo Gold',
        'Der ZX 700 HD von adidas ist die moderne Interpretation eines klassischen Track & Trail-Laufschuhs, der in den 80ern das Licht der Welt erblickte und exakt auf die Bedürfnisse von Langstrecken- und Crossläufern abgestimmt war, was vor allem an der genialen Außensohle lag, die mit jeder Art von Untergrund zurecht kam. Bei dieser Version wurden die Overlays größtenteils direkt mit dem Mesh verschweißt, die Linien leicht modifiziert, ohne den Charakter des Schuhs wesentlich zu verändern, und auch der Heel Counter verändert.'),
       (7, 'EQT Support 91/18', 119.99, 1, 3, 1, 'Clear Brown / Footwear White / Off White',
        'Mit dem EQT Support 91/18 hat adidas mal wieder einen fantastischen Hybrid kreiert, der das Stilsichere und den puristischen, aufs Wesentliche reduzierten Auftritt der frühen Equipment-Runner mit modernen Technologien und Materialien verbindet. Beim EQT Support 91/18 von adidas handelt es sich allerdings um eine höchst innovative Konstruktion mit anschmiegsamem Primeknit als Obermaterial und der ultrakomfortablen boost™-Zwischensohle als Basis für einen dynamischen Antritt. Mit der boost™-Technologie hat adidas eine kleine Revolution losgetreten, da diese dem Träger eine Energieeffizienz vermittelte, die ihresgleichen sucht - so wurde praktisch mit jedem Schritt das Akku neu aufgeladen, was die Ermüdungserscheinungen des Läufers auf ein Minimum reduzierte.'),
       (8, 'Air Force 1 ''07', 99.99, 1, 2, 1, 'Grey / Black / Infrared',
        'Für die aktuelle Saison hat Nike den Air Force 1 ''07 nochmal etwas überarbeitet, allerdings ohne charakteristische Züge dieses Schuhs zu verändern. Es gibt robustes Leder als Obermaterial und einen puristischen Two Tone-Colorway. Man schrieb das Jahr 1982, als Nikes Air Force 1 die Welt veränderte. Nachdem Nike das Problem von Basketballschuhen in den eigenen Labors analysiert hatte, kam man zu der Einsicht, dass die mangelnde Dämpfung im Mittelfuß- und Fersenbereich ein hohes Verletzungsrisiko birgt. Um dem entgegenzuwirken, bestückte Nike die Mittelsohle des Air Force 1 mit einem Luftpolster (Air-Technologie) in genau diesem sensiblen Bereich, wodurch dieser Schuh unmittelbar nach seiner Markteinführung zur ultimativen Court-Waffe gekürt wurde und seitdem maßgeblich für die fast schon revolutionäre Weiterentwicklung von Basketballschuhen verantwortlich ist. Du merkst schon, sein Name kommt nicht von ungefähr...'),
       (9, 'WMNS Air Max 1', 109.99, 1, 2, 2, 'Gym Red / Sail / Black',
        'Der Über-Runner Nike Air Max 1 in einer exzellenten neuen Farbkombi, die wie gewohnt perfekt abgestimmt wurde und keine Wünsche offen lässt! Als die Urform vom Nike Air Max, also die Nummer 1, 1987 für den Markt freigegeben wurde, konnte noch niemand ahnen, welch einen Einfluss dieser Runner auf seine Art ausüben sollte. Den revolutionären Charakter konnte man bereits erahnen, denn er war das erste Modell, dass seine Air Unit nicht in der Mittelsohle versteckte, sondern es dem Betrachter gestattete, durch kleine, in den Fersenbereich der Mittelsohle integrierte Fenster einen Blick auf die die sagenumwobene Lufteinheit zu werfen, die NASA-Wissenschaftler Frank Rudy 1979 für Nike erschuf. Im Lauf der Jahre wurde der Air Max 1 stetig weiterentwickelt und verbessert, sodass sein Gewicht nochmals um ein paar Gramm reduziert und seine Performance verbessert werden konnte. Selbstredend, dass Nike seit ''87 sich nicht auf den Trophäen ausruht, wodurch es nachvollziehbar ist, dass einige Nachfolger des Air Max 1 inzwischen dem Original in puncto Gewicht, Komfort oder Dämpfung den Schneid abkaufen konnten, doch kein einziger dieser Schuhe genießt heute einen solchen Kultstatus.');


INSERT INTO `myZone`.`products` (`id`, `name`, `price`, `category`, `brand`, `color`, `descriptionColor`, `description`)
VALUES (101, 'Club C85 Vintage', 99.99, 1, 1, 1, 'Calk / Paperwhite / Cya',
        'Kein Schnickschnack, nur die pure Ästhetik des Tennissports schwingt beim Club C 85 von Reebok mit. Weiches Leder als Obermaterial, strategisch gepolstertes Textilfutter, eine cleane Farbe für die Sohle in Braun und einfache, nachvollziehbare Linien mit ideal dosierten Overlays sind die Merkmale von Reebok''s Club C 85 MU. Tennis war in den Achtziger Jahren einfach der Sport, der eine Menge cooler Sneaker hervorgebracht hat, deren Design immer auf traditionelle Werte bedacht war ohne zu konservativ zu wirken.'),
       (102, 'Air Max 97', 129.99, 1, 2, 2, NULL, NULL),
       (103, 'Classic Clog', 69.69, 1, 4, 3, NULL, NULL),
       (104, 'Yeezy Boost 380 "Alien"', 199.99, 1, 3, 4, NULL, NULL);

INSERT INTO `myZone`.`orders` (`shipmentDate`, `customer`)
VALUES ('2020-12-30', 1),
       ('2020-12-31', 2),
       ('2021-01-01', 1),
       ('2021-01-10', 2);

INSERT INTO `myZone`.`orderItems` (`quantity`, `actualPrice`, `order`, `product`)
VALUES (2, 199.98, 1, 1),
       (1, 199.99, 1, 4),
       (5, 348.45, 2, 3),
       (1,  99.99, 2, 1),
       (1, 129.99, 2, 2),
       (1,  69.69, 3, 3),
       (1, 199.99, 4, 4);